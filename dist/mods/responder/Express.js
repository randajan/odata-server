import"../../chunk-OUWZ2PU5.js";import c from"@randajan/jet-core";var{solid:a}=c.prop,n=class{constructor(e,s){a.all(this,{request:e,response:s})}getURL(){let e=this.request;return e.originalUrl||e.url}getMethod(){return this.request.method}async getBody(){let e=this.request;return e.body?e.body:new Promise((s,t)=>{let o="";e.on("data",r=>{(o+=r).length>1e6&&t({statusCode:400,msg:"Request is too long"})}),e.on("end",r=>{try{s(o?JSON.parse(o):void 0)}catch(i){t({statusCode:400,msg:i.message})}})})}getType(){let e=this.request,t=c.json.from(e.headers)?.accept;if(typeof t!="string")return;let o=t.includes("xml"),r=t.includes("json");if(o!==r)return o?"xml":"json"}setHeader(e,s){this.response.setHeader(e,s)}setBody(e,s){let t=this.response;t.statusCode=e,t.end(s)}},h=(d,e)=>new n(d,e);export{n as ExpressResponder,h as default};
//# sourceMappingURL=Express.js.map
