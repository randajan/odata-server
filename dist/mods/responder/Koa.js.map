{
  "version": 3,
  "sources": ["../../../src/mods/responder/Koa.js"],
  "sourcesContent": ["import jet from \"@randajan/jet-core\";\r\n\r\nconst { solid } = jet.prop;\r\n\r\nexport class KoaResponder {\r\n\r\n    constructor(context) {\r\n        solid.all(this, {context});\r\n    }\r\n\r\n    getURL() {\r\n        return this.context.request.url;\r\n    }\r\n\r\n    getMethod() {\r\n        return this.context.request.method;\r\n    }\r\n\r\n    async getBody() {\r\n        const ctx = this.context;\r\n        const req = ctx.request;\r\n\r\n        return req.body;\r\n    }\r\n\r\n    getType() {\r\n        const ctx = this.context;\r\n        const json = ctx.accepts(\"json\");\r\n        const xml = ctx.accepts(\"xml\");\r\n        if (xml !== json) { return xml ? \"xml\" : \"json\"; }\r\n    }\r\n\r\n    setHeader(name, value) {\r\n        this.context.set(name, value);\r\n    }\r\n\r\n    setBody(statusCode, body) {\r\n        this.context.status = statusCode;\r\n        this.context.body = body;\r\n    }\r\n    \r\n}\r\n\r\nexport default (ctx)=>new KoaResponder(ctx);"],
  "mappings": ";;;AAAA,OAAO,SAAS;AAEhB,IAAM,EAAE,MAAM,IAAI,IAAI;AAEf,IAAM,eAAN,MAAmB;AAAA,EAEtB,YAAY,SAAS;AACjB,UAAM,IAAI,MAAM,EAAC,QAAO,CAAC;AAAA,EAC7B;AAAA,EAEA,SAAS;AACL,WAAO,KAAK,QAAQ,QAAQ;AAAA,EAChC;AAAA,EAEA,YAAY;AACR,WAAO,KAAK,QAAQ,QAAQ;AAAA,EAChC;AAAA,EAEA,MAAM,UAAU;AACZ,UAAM,MAAM,KAAK;AACjB,UAAM,MAAM,IAAI;AAEhB,WAAO,IAAI;AAAA,EACf;AAAA,EAEA,UAAU;AACN,UAAM,MAAM,KAAK;AACjB,UAAM,OAAO,IAAI,QAAQ,MAAM;AAC/B,UAAM,MAAM,IAAI,QAAQ,KAAK;AAC7B,QAAI,QAAQ,MAAM;AAAE,aAAO,MAAM,QAAQ;AAAA,IAAQ;AAAA,EACrD;AAAA,EAEA,UAAU,MAAM,OAAO;AACnB,SAAK,QAAQ,IAAI,MAAM,KAAK;AAAA,EAChC;AAAA,EAEA,QAAQ,YAAY,MAAM;AACtB,SAAK,QAAQ,SAAS;AACtB,SAAK,QAAQ,OAAO;AAAA,EACxB;AAEJ;AAEA,IAAO,cAAQ,CAAC,QAAM,IAAI,aAAa,GAAG;",
  "names": []
}
