{
  "version": 3,
  "sources": ["../../../src/mods/responder/Koa.js"],
  "sourcesContent": ["import jet from \"@randajan/jet-core\";\r\n\r\nconst { solid } = jet.prop;\r\n\r\nexport class KoaResponder {\r\n\r\n    constructor(context) {\r\n        solid.all(this, {context});\r\n    }\r\n\r\n    getURL() {\r\n        return this.context.request.url;\r\n    }\r\n\r\n    getMethod() {\r\n        return this.context.request.method;\r\n    }\r\n\r\n    async getBody() {\r\n        const ctx = this.context;\r\n        const req = ctx.request;\r\n\r\n        return req.body;\r\n    }\r\n\r\n    getType() {\r\n        const ctx = this.context;\r\n        const json = ctx.accepts(\"json\");\r\n        const xml = ctx.accepts(\"xml\");\r\n        if (xml !== json) { return xml ? \"xml\" : \"json\"; }\r\n    }\r\n\r\n    setHeader(name, value) {\r\n        this.context.set(name, value);\r\n    }\r\n\r\n    setBody(statusCode, body) {\r\n        this.context.status = statusCode;\r\n        this.context.body = body;\r\n    }\r\n    \r\n}\r\n\r\nexport default (ctx)=>new KoaResponder(ctx);"],
  "mappings": "gCAAA,OAAOA,MAAS,qBAEhB,GAAM,CAAE,MAAAC,CAAM,EAAID,EAAI,KAETE,EAAN,KAAmB,CAEtB,YAAYC,EAAS,CACjBF,EAAM,IAAI,KAAM,CAAC,QAAAE,CAAO,CAAC,CAC7B,CAEA,QAAS,CACL,OAAO,KAAK,QAAQ,QAAQ,GAChC,CAEA,WAAY,CACR,OAAO,KAAK,QAAQ,QAAQ,MAChC,CAEA,MAAM,SAAU,CAIZ,OAHY,KAAK,QACD,QAEL,IACf,CAEA,SAAU,CACN,IAAMC,EAAM,KAAK,QACXC,EAAOD,EAAI,QAAQ,MAAM,EACzBE,EAAMF,EAAI,QAAQ,KAAK,EAC7B,GAAIE,IAAQD,EAAQ,OAAOC,EAAM,MAAQ,MAC7C,CAEA,UAAUC,EAAMC,EAAO,CACnB,KAAK,QAAQ,IAAID,EAAMC,CAAK,CAChC,CAEA,QAAQC,EAAYC,EAAM,CACtB,KAAK,QAAQ,OAASD,EACtB,KAAK,QAAQ,KAAOC,CACxB,CAEJ,EAEOC,EAASP,GAAM,IAAIF,EAAaE,CAAG",
  "names": ["jet", "solid", "KoaResponder", "context", "ctx", "json", "xml", "name", "value", "statusCode", "body", "Koa_default"]
}
